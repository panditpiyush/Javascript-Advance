<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fetch Method</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>
    <h2>Fetch Method</h2>
    <p id="test"></p>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script>
        //Creating Fetch Method for getting all the data 
        fetch("https://jsonplaceholder.typicode.com/posts").then(function (responce) {
            console.log(responce);
            return responce.json();//can be text or json need to mention
        }).then(function (data) {
            //Print all the JSON - we can print using for each or for loop
            $.each(data, function (key, value) {
                $('#test').append("<p>" + value.id + "</p> <br> <p>" + value.title + "</p>")
            })
        }).catch(function (error) {
            console.log("Error " + error)
            $('#test').html("Error in the server " + error);
        })

        var obj = {
            'Name': 'Piyush',
            'Place': 'raipur'
        }

        //Creating Fetch method to Insert Data 
        fetch('https://jsonplaceholder.typicode.com/posts',
            {
                method: "POST",
                body: JSON.stringify(obj),
                headers: {
                    'content-type': 'application/json'
                }
            }).then(function (responce) {
                return responce.json()
            }).then(function (data) {
                console.log(data)
            })
    </script>
</body>

</html>
